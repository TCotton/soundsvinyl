{"version":3,"sources":["webpack:///./app/helper_constants.js","webpack:///./app/front/Sitemap/sitemap.scss?8883","webpack:///./app/front/Sitemap/Sitemap.js","webpack:///./app/front/Sitemap/SitemapUnorderedList.js"],"names":["homeURI","window","location","protocol","hostname","port","length","module","exports","line-through","sitemap","sitemapUnorderedList","sitemapItem","_react","__webpack_require__","_helper_constants","Sitemap","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","state","customPages","error","pages","Component","_this2","axios","get","then","res","setState","data","catch","toString","Error","anArray","forEach","element","push","_id","name","group","_groupBy2","default","pairs","_sortBy2","_state","_react2","createElement","className","Fragment","_ErrorBoundary2","_SitemapUnorderedList2","categories","_reactRouterDom","SitemapUnorderedList","_props","map","key","Link","to","slug","title","newData","index","uri","encodeURIComponent","propTypes","PropTypes","bool","arrayOf","object","string","number","node","defaultProps"],"mappings":"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","file":"10.831b9f3f23c4b220f2d9.chunk.js","sourcesContent":["export const homeURI = window.location.protocol + '//' + window.location.hostname + (window.location.port.length === 0 ? '' : ':8443');\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-through\":\"sitemap__line-through___25Ggx\",\"sitemap\":\"sitemap__sitemap___2mkRz\",\"sitemapUnorderedList\":\"sitemap__sitemapUnorderedList___14wVG\",\"sitemapItem\":\"sitemap__sitemapItem___34w4U\"};","import React, { Component } from 'react';\nimport './sitemap.scss';\nimport axios from 'axios'\nimport { homeURI } from '../../helper_constants'\nimport SitemapUnorderedList from './SitemapUnorderedList';\nimport ErrorBoundary from '../errorBoundaries/ErrorBoundary';\nimport groupBy from 'lodash/groupBy';\nimport sortBy from 'lodash/sortBy';\n\nexport default class Sitemap extends Component {\n\n\tconstructor ( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcustomPages: [],\n\t\t\terror: null,\n\t\t\tpages: []\n\t\t};\n\t}\n\n\tcomponentWillMount () {\n\t\taxios.get( `${homeURI}/apiV1/page/getall` )\n\t\t\t.then( res => {\n\n\t\t\t\tthis.setState( {\n\t\t\t\t\tpages: res.data,\n\t\t\t\t})\n\t\t\t}).catch( ( error ) => {\n\n\t\t\tthis.setState( {\n\t\t\t\terror: error.toString()\n\t\t\t});\n\t\t\tnew Error( error.toString() )\n\t\t});\n\n\t\taxios.get( `${homeURI}/apiV1/page/getTags` )\n\t\t\t.then( res => {\n\t\t\t\tlet anArray = [];\n\n\t\t\t\t// sorting of categories takes place at the API level with the use of aggregate\n\t\t\t\t// and then here to place the categories in a readable, clickable order\n\n\t\t\t\tres.data.forEach( ( element ) => {\n\t\t\t\t\tanArray.push( element._id.name );\n\t\t\t\t});\n\n\t\t\t\tconst group = groupBy( anArray );\n\t\t\t\tconst pairs = sortBy( group );\n\n\t\t\t\tthis.setState( {\n\t\t\t\t\tcustomPages: pairs,\n\t\t\t\t})\n\t\t\t}).catch( ( error ) => {\n\n\t\t\tthis.setState( {\n\t\t\t\terror: error.toString()\n\t\t\t});\n\t\t\tnew Error( error.toString() )\n\t\t});\n\t}\n\n\trender () {\n\t\tconst { error, pages, customPages } = this.state;\n\n\t\treturn (\n\t\t\t<main styleName='sitemap'>\n\t\t\t\t<h3>\n\t\t\t\t\t{'Sitemap'}\n\t\t\t\t</h3>\n\t\t\t\t<section>\n\t\t\t\t\t{error &&\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</p>\n\t\t\t\t\t}\n\t\t\t\t\t{!error &&\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t{'Categories'}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{!error &&\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<SitemapUnorderedList\n\t\t\t\t\t\t\tcategories\n\t\t\t\t\t\t\tdata={customPages}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t}\n\t\t\t\t\t{!error &&\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t{'Tracks'}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t{!error &&\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<SitemapUnorderedList\n\t\t\t\t\t\t\tdata={pages}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t}\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react';\nimport './sitemap.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default class SitemapUnorderedList extends Component {\n\n\tstatic propTypes = {\n\t\tcategories: PropTypes.bool,\n\t\tdata: PropTypes.arrayOf(\n\t\t\tPropTypes.object,\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.number,\n\t\t\tPropTypes.node,\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf( PropTypes.string, PropTypes.number )\n\t\t)\n\t};\n\n\tstatic defaultProps = {\n\t\tcategories: false,\n\t\tdata: []\n\t}\n\n\tconstructor ( props ) {\n\t\tsuper( props );\n\t}\n\n\trender () {\n\t\tconst { categories, data } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<ul styleName='sitemapUnorderedList'>\n\t\t\t\t\t{!categories && data.map( data => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={data._id}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tstyleName='sitemapItem'\n\t\t\t\t\t\t\t\t\tto={`/${data.slug}/${data._id}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{data.title}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t} )}\n\n\t\t\t\t\t{categories && data.map( ( newData, index ) => {\n\t\t\t\t\t\tconst uri = 'category/' + encodeURIComponent( data[ index ][ 0 ] );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={index.toString()}>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tstyleName='sitemapItem'\n\t\t\t\t\t\t\t\t\tto={uri}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{data[ index ][ 0 ]}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t} )}\n\t\t\t\t</ul>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n"],"sourceRoot":""}