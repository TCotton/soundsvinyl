{"version":3,"sources":["webpack:///./node_modules/universal-cookie/node_modules/cookie/index.js","webpack:///./app/helper_constants.js","webpack:///./app/front/Account/MyAccount.js","webpack:///./app/front/Account/account.scss?12b3","webpack:///./app/front/Account/MyAccountForm.js","webpack:///./node_modules/universal-cookie/es6/utils.js","webpack:///./node_modules/universal-cookie/es6/Cookies.js","webpack:///./node_modules/universal-cookie/es6/index.js"],"names":["exports","parse","str","options","TypeError","obj","opt","pairs","split","pairSplitRegExp","dec","decode","i","length","pair","eq_idx","indexOf","key","substr","trim","val","slice","undefined","tryDecode","serialize","name","enc","encode","fieldContentRegExp","test","value","maxAge","isNaN","Error","Math","floor","domain","path","expires","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent","e","homeURI","window","location","protocol","hostname","port","MyAccount","props","state","loginFormloginName","loginFormloginPassword","registerFormloginName","registerFormloginPassword","error","handleSubmitLogin","bind","handleSubmitRegister","handleInputChange","preventDefault","this","email","password","setState","username","createUsername","axios","post","then","res","data","auth","Cookies","set","token","add","toDate","href","document","referrer","catch","toString","includes","event","target","errorFunc","formName","legend","nameLabel","onFormSubmit","onInputChange","passwordLabel","disabled","Component","module","MyAccountForm","autoComplete","onSubmit","htmlFor","data-autocapitalize","id","onChange","required","type","propTypes","PropTypes","bool","string","isRequired","func","defaultProps","hasDocumentCookie","navigator","userAgent","isJsDom","cookie","readCookie","cleanValue","cleanupCookieValue","doNotParse","isParsingCookie","JSON","objectAssign","cookies","_this","changeListeners","HAS_DOCUMENT_COOKIE","parseCookies","Promise","prototype","_updateBrowserValues","_emitChange","params","get","getAll","result","name_1","_a","stringify","remove","finalOptions","Date","addChangeListener","callback","push","removeChangeListener","idx","splice"],"mappings":"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","file":"9.379d321a2c16fb9d2ca2.chunk.js","sourcesContent":["/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","export const homeURI =\n\twindow.location.protocol +\n\t'//' +\n\twindow.location.hostname +\n\t(window.location.port.length === 0 ? '' : ':8443')\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport Cookies from 'universal-cookie'\nimport moment from 'moment-mini'\nimport { homeURI } from '../../helper_constants'\nimport { createUsername } from '../../helper_functions'\nimport './account.scss'\nimport MyAccountForm from './MyAccountForm'\nimport ErrorBoundary from '../errorBoundaries/ErrorBoundary'\n\nclass MyAccount extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tloginFormloginName: '',\n\t\t\tloginFormloginPassword: '',\n\t\t\tregisterFormloginName: '',\n\t\t\tregisterFormloginPassword: '',\n\t\t\terror: null\n\t\t}\n\n\t\tthis.handleSubmitLogin = this.handleSubmitLogin.bind(this)\n\t\tthis.handleSubmitRegister = this.handleSubmitRegister.bind(this)\n\t\tthis.handleInputChange = this.handleInputChange.bind(this)\n\t}\n\n\thandleSubmitRegister (e) {\n\t\te.preventDefault();\n\n\t\tconst { registerFormloginName, registerFormloginPassword } = this.state\n\n\t\tif (registerFormloginName && registerFormloginPassword) {\n\t\t\tconst email = registerFormloginName\n\t\t\tconst password = registerFormloginPassword\n\n\t\t\tthis.setState({ error: null }) // place this in a lifecycle hook\n\t\t\tconst username = createUsername(email)\n\n\t\t\taxios\n\t\t\t\t.post(`${homeURI}/apiV1/user/add`, { email, password, username })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\tthis.setState({ error: res.data.error })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (res.data.auth) {\n\t\t\t\t\t\tconst cookies = new Cookies()\n\n\t\t\t\t\t\tcookies.set('token', res.data.token, {\n\t\t\t\t\t\t\texpires: moment()\n\t\t\t\t\t\t\t\t.add(1, 'days')\n\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t\tpath: '/',\n\t\t\t\t\t\t\tdomain: window.location.hostname,\n\t\t\t\t\t\t\tsecure: true\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t// go back to previous page\n\t\t\t\t\t\twindow.location.href = document.referrer\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tif (e.toString().includes('409')) {\n\t\t\t\t\t\tthis.setState({ error: 'This email address is already registered' })\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t}\n\n\thandleSubmitLogin () {\n\t\tconst { loginFormloginName, loginFormloginPassword } = this.state\n\n\t\tif (loginFormloginName && loginFormloginPassword) {\n\t\t\tthis.setState({ error: null }) // place this in a lifecycle hook\n\t\t\t// `user/add`\n\n\t\t\taxios\n\t\t\t\t.post(`${homeURI}/apiV1/user/find`, {\n\t\t\t\t\temail: loginFormloginName,\n\t\t\t\t\tpassword: loginFormloginPassword\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.error) {\n\t\t\t\t\t\tthis.setState({ error: res.data.error })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (res.data.auth) {\n\t\t\t\t\t\tconst cookies = new Cookies()\n\n\t\t\t\t\t\tcookies.set('token', res.data.token, {\n\t\t\t\t\t\t\texpires: moment()\n\t\t\t\t\t\t\t\t.add(1, 'days')\n\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t\tpath: '/',\n\t\t\t\t\t\t\tdomain: window.location.hostname,\n\t\t\t\t\t\t\tsecure: true\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\t// go back to previous page\n\t\t\t\t\t\twindow.location.href = document.referrer\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t}\n\n\thandleInputChange (event) {\n\t\tconst target = event.target\n\t\tconst value = target.value\n\t\tconst name = target.name\n\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\trender () {\n\t\tconst {\n\t\t\tloginFormloginName,\n\t\t\terror,\n\t\t\tloginFormloginPassword,\n\t\t\tregisterFormloginName,\n\t\t\tregisterFormloginPassword\n\t\t} = this.state\n\t\tconst $myAccount = 'My Account'\n\t\tconst $eigherLogin =\n\t\t\t'Either login or register an account with SoundsVinyl from this page'\n\n\t\tconst errorFunc = error\n\t\t\t? () => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<p styleName='error'>\n\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t: () => {\n\t\t\t\t\treturn null\n\t\t\t\t}\n\n\t\treturn (\n\t\t\t<main styleName='myAccount'>\n\t\t\t\t<h2>\n\t\t\t\t\t{$myAccount}\n\t\t\t\t</h2>\n\t\t\t\t<p>\n\t\t\t\t\t{$eigherLogin}\n\t\t\t\t</p>\n\n\t\t\t\t{errorFunc()}\n\n\t\t\t\t<section>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<MyAccountForm\n\t\t\t\t\t\t\tformName='loginForm'\n\t\t\t\t\t\t\tlegend='Login'\n\t\t\t\t\t\t\tname={loginFormloginName}\n\t\t\t\t\t\t\tnameLabel='Your email'\n\t\t\t\t\t\t\tonFormSubmit={this.handleSubmitLogin}\n\t\t\t\t\t\t\tonInputChange={this.handleInputChange}\n\t\t\t\t\t\t\tpassword={loginFormloginPassword}\n\t\t\t\t\t\t\tpasswordLabel='Your password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<MyAccountForm\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tformName='registerForm'\n\t\t\t\t\t\t\tlegend='Register'\n\t\t\t\t\t\t\tname={registerFormloginName}\n\t\t\t\t\t\t\tnameLabel='Your email'\n\t\t\t\t\t\t\tonFormSubmit={this.handleSubmitRegister}\n\t\t\t\t\t\t\tonInputChange={this.handleInputChange}\n\t\t\t\t\t\t\tpassword={registerFormloginPassword}\n\t\t\t\t\t\t\tpasswordLabel='Your password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t)\n\t}\n}\n\nexport default MyAccount\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-through\":\"account__line-through___3n019\",\"myAccount\":\"account__myAccount___35jgU\",\"error\":\"account__error___3LR2J\"};","import { Component } from 'react'\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class MyAccountForm extends Component {\n\tstatic propTypes = {\n\t\tdisabled: PropTypes.bool,\n\t\tformName: PropTypes.string.isRequired,\n\t\tlegend: PropTypes.string.isRequired,\n\t\tname: PropTypes.string.isRequired,\n\t\tnameLabel: PropTypes.string.isRequired,\n\t\tonFormSubmit: PropTypes.func.isRequired,\n\t\tonInputChange: PropTypes.func.isRequired,\n\t\tpassword: PropTypes.string.isRequired,\n\t\tpasswordLabel: PropTypes.string.isRequired\n\t}\n\n\tstatic defaultProps = {\n\t\tdisabled: false\n\t}\n\n\tconstructor (props) {\n\t\tsuper(props)\n\n\t\tthis.handleSubmitLogin = this.handleSubmitLogin.bind(this)\n\t\tthis.handleInputChange = this.handleInputChange.bind(this)\n\t}\n\n\thandleSubmitLogin (event) {\n\t\tevent.preventDefault()\n\n\t\tconst { onFormSubmit } = this.props\n\t\tonFormSubmit()\n\t}\n\n\thandleInputChange (event) {\n\t\tevent.preventDefault()\n\n\t\tconst { onInputChange } = this.props\n\t\tonInputChange(event)\n\t}\n\n\trender () {\n\t\tconst {\n\t\t\tname,\n\t\t\tpassword,\n\t\t\tlegend,\n\t\t\tnameLabel,\n\t\t\tpasswordLabel,\n\t\t\tformName,\n\t\t\tdisabled\n\t\t} = this.props\n\n\t\treturn (\n\t\t\t<form\n\t\t\t\tautoComplete='off'\n\t\t\t\tname={formName}\n\t\t\t\tonSubmit={this.handleSubmitLogin}\n\t\t\t>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<legend>\n\t\t\t\t\t\t{legend}\n\t\t\t\t\t</legend>\n\n\t\t\t\t\t<label htmlFor={`${formName}loginName`}>\n\t\t\t\t\t\t{nameLabel}\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tdata-autocapitalize='none'\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={`${formName}loginName`}\n\t\t\t\t\t\tname={`${formName}loginName`}\n\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<label htmlFor={`${formName}loginPassword`}>\n\t\t\t\t\t\t{passwordLabel}\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tid={`${formName}loginPassword`}\n\t\t\t\t\t\tname={`${formName}loginPassword`}\n\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tname='loginSubmit'\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tvalue='Login'\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t)\n\t}\n}\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // JSDOM does not support changing cookies, disable it for tests\r\n    if (isJsDom()) {\r\n        return false;\r\n    }\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nfunction isJsDom() {\r\n    if (typeof navigator !== 'object' ||\r\n        typeof navigator.userAgent !== 'string') {\r\n        return false;\r\n    }\r\n    return (navigator.userAgent.indexOf('Node.js') >= 0 ||\r\n        navigator.userAgent.indexOf('jsdom') >= 0);\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","import * as cookie from 'cookie';\r\nimport { parseCookies, readCookie, hasDocumentCookie } from './utils';\r\n// We can't please Rollup and TypeScript at the same time\r\n// Only way to make both of them work\r\nvar objectAssign = require('object-assign');\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function () {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues();\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues();\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = objectAssign({}, this.cookies, (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = objectAssign({}, options, {\r\n            expires: new Date(1970, 1, 1, 0, 0, 1),\r\n            maxAge: 0\r\n        }));\r\n        this.cookies = objectAssign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","import Cookies from './Cookies';\r\nexport default Cookies;\r\n"],"sourceRoot":""}