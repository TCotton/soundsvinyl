{"version":3,"sources":["webpack:///./app/helper_constants.js","webpack:///./app/front/Sitemap/sitemap.scss?3350","webpack:///./app/front/Sitemap/Sitemap.js","webpack:///./app/front/Sitemap/SitemapUnorderedList.js"],"names":["homeURI","window","location","protocol","hostname","port","length","module","exports","Sitemap","props","state","customPages","error","pages","axios","get","then","res","setState","data","catch","toString","Error","anArray","forEach","element","push","_id","name","group","pairs","this","categories","Component","SitemapUnorderedList","map","key","Link","to","slug","title","newData","index","uri","encodeURIComponent","propTypes","PropTypes","bool","arrayOf","object","string","number","node","defaultProps"],"mappings":";4IAAaA,UACZC,OAAOC,SAASC,SAChB,KACAF,OAAOC,SAASE,UACiB,IAAhCH,OAAOC,SAASG,KAAKC,OAAe,GAAK,U,oBCH3CC,EAAOC,QAAU,CAAC,eAAe,gCAAgC,QAAU,2BAA2B,qBAAuB,wCAAwC,YAAc,iC,2UCDnL,S,OACA,OACA,I,IAAA,QACA,S,IACA,Q,IACA,Q,IACA,Q,IACA,Q,uDAEqBC,E,YACpB,WAAaC,I,4FAAO,e,iKAAA,wDACbA,IADa,OAGnB,EAAKC,MAAQ,CACZC,YAAa,GACbC,MAAO,KACPC,MAAO,IANW,E,qXAUC,WACpBC,UACEC,IAAOhB,UADT,sBAEEiB,MAAK,SAAAC,GACL,EAAKC,SAAS,CACbL,MAAOI,EAAIE,UAGZC,OAAM,SAAAR,GACN,EAAKM,SAAS,CACbN,MAAOA,EAAMS,aAEd,IAAIC,MAAMV,EAAMS,eAGlBP,UACEC,IAAOhB,UADT,uBAEEiB,MAAK,SAAAC,GACL,IAAIM,EAAU,GAKdN,EAAIE,KAAKK,SAAQ,SAAAC,GAChBF,EAAQG,KAAKD,EAAQE,IAAIC,SAG1B,IAAMC,GAAQ,aAAQN,GAChBO,GAAQ,aAAOD,GAErB,EAAKX,SAAS,CACbP,YAAamB,OAGdV,OAAM,SAAAR,GACN,EAAKM,SAAS,CACbN,MAAOA,EAAMS,aAEd,IAAIC,MAAMV,EAAMS,iB,+BAIT,MAC6BU,KAAKrB,MAAnCE,EADC,EACDA,MAAOC,EADN,EACMA,MAAOF,EADb,EACaA,YAKtB,OACC,gCAAM,UAAU,4BACf,kCANe,WAOf,uCACEC,GAAS,iCAAIA,IACZA,GAAS,kCARM,eASfA,GACD,wBAAC,UAAD,KACC,wBAAC,UAAD,CAAsBoB,YAAA,EAAWb,KAAMR,MAGvCC,GAAS,kCAbE,WAcXA,GACD,wBAAC,UAAD,KACC,wBAAC,UAAD,CAAsBO,KAAMN,W,GAzEEoB,a,UAAhBzB,G,2UCRrB,S,OACA,OACA,I,IAAA,QACA,S,uDAEqB0B,E,YAkBpB,WAAazB,GAAO,O,4FAAA,S,iKAAA,wDACbA,I,0WAGG,MACoBsB,KAAKtB,MAA1BuB,EADC,EACDA,WAAYb,EADX,EACWA,KAEpB,OACC,8BAAI,UAAU,0CACXa,GACDb,EAAKgB,KAAI,SAAAhB,GACR,OACC,8BAAIiB,IAAKjB,EAAKQ,KACb,wBAAC,EAAAU,KAAD,CAAM,UAAU,+BAAcC,GAAA,IAAQnB,EAAKoB,KAAb,IAAqBpB,EAAKQ,KACtDR,EAAKqB,WAMVR,GACAb,EAAKgB,KAAI,SAACM,EAASC,GAClB,IAAMC,EAAM,YAAcC,mBAAmBzB,EAAKuB,GAAO,IACzD,OACC,8BAAIN,IAAKM,EAAMrB,YACd,wBAAC,EAAAgB,KAAD,CAAM,UAAU,+BAAcC,GAAIK,GAChCxB,EAAKuB,GAAO,a,GA5C4BT,aAA7BC,EACbW,UAAY,CAClBb,WAAYc,UAAUC,KACtB5B,KAAM2B,UAAUE,QACfF,UAAUG,OACVH,UAAUI,OACVJ,UAAUK,OACVL,UAAUM,KACVN,UAAUrB,QACVqB,UAAUE,QAAQF,UAAUI,OAAQJ,UAAUK,UAT5BjB,EAabmB,aAAe,CACrBrB,YAAY,EACZb,KAAM,I,UAfae","file":"10.81d966877005b6f0669d.chunk.js","sourcesContent":["export const homeURI =\n\twindow.location.protocol +\n\t'//' +\n\twindow.location.hostname +\n\t(window.location.port.length === 0 ? '' : ':8443')\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line-through\":\"sitemap__line-through___25Ggx\",\"sitemap\":\"sitemap__sitemap___2mkRz\",\"sitemapUnorderedList\":\"sitemap__sitemapUnorderedList___14wVG\",\"sitemapItem\":\"sitemap__sitemapItem___34w4U\"};","import React, { Component } from 'react'\nimport './sitemap.scss'\nimport axios from 'axios'\nimport { homeURI } from '../../helper_constants'\nimport SitemapUnorderedList from './SitemapUnorderedList'\nimport ErrorBoundary from '../errorBoundaries/ErrorBoundary'\nimport groupBy from 'lodash/groupBy'\nimport sortBy from 'lodash/sortBy'\n\nexport default class Sitemap extends Component {\n\tconstructor (props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tcustomPages: [],\n\t\t\terror: null,\n\t\t\tpages: []\n\t\t}\n\t}\n\n\tcomponentDidMount () {\n\t\taxios\n\t\t\t.get(`${homeURI}/apiV1/page/getall`)\n\t\t\t.then(res => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpages: res.data\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terror: error.toString()\n\t\t\t\t})\n\t\t\t\tnew Error(error.toString())\n\t\t\t})\n\n\t\taxios\n\t\t\t.get(`${homeURI}/apiV1/page/getTags`)\n\t\t\t.then(res => {\n\t\t\t\tlet anArray = []\n\n\t\t\t\t// sorting of categories takes place at the API level with the use of aggregate\n\t\t\t\t// and then here to place the categories in a readable, clickable order\n\n\t\t\t\tres.data.forEach(element => {\n\t\t\t\t\tanArray.push(element._id.name)\n\t\t\t\t})\n\n\t\t\t\tconst group = groupBy(anArray)\n\t\t\t\tconst pairs = sortBy(group)\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tcustomPages: pairs\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terror: error.toString()\n\t\t\t\t})\n\t\t\t\tnew Error(error.toString())\n\t\t\t})\n\t}\n\n\trender () {\n\t\tconst { error, pages, customPages } = this.state\n\t\tconst $sitemap = 'Sitemap'\n\t\tconst $Categories = 'Categories'\n\t\tconst $Tracks = 'Tracks'\n\n\t\treturn (\n\t\t\t<main styleName='sitemap'>\n\t\t\t\t<h3>{$sitemap}</h3>\n\t\t\t\t<section>\n\t\t\t\t\t{error && <p>{error}</p>}\n\t\t\t\t\t{!error && <h4>{$Categories}</h4>}\n\t\t\t\t\t{!error && (\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<SitemapUnorderedList categories data={customPages} />\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t)}\n\t\t\t\t\t{!error && <h4>{$Tracks}</h4>}\n\t\t\t\t\t{!error && (\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<SitemapUnorderedList data={pages} />\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t)}\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t)\n\t}\n}\n","/* eslint-disable security/detect-object-injection */\nimport React, { Component } from 'react'\nimport './sitemap.scss'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nexport default class SitemapUnorderedList extends Component {\n\tstatic propTypes = {\n\t\tcategories: PropTypes.bool,\n\t\tdata: PropTypes.arrayOf(\n\t\t\tPropTypes.object,\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.number,\n\t\t\tPropTypes.node,\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf(PropTypes.string, PropTypes.number)\n\t\t)\n\t}\n\n\tstatic defaultProps = {\n\t\tcategories: false,\n\t\tdata: []\n\t}\n\n\tconstructor (props) {\n\t\tsuper(props)\n\t}\n\n\trender () {\n\t\tconst { categories, data } = this.props\n\n\t\treturn (\n\t\t\t<ul styleName='sitemapUnorderedList'>\n\t\t\t\t{!categories &&\n\t\t\t\t\tdata.map(data => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={data._id}>\n\t\t\t\t\t\t\t\t<Link styleName='sitemapItem' to={`/${data.slug}/${data._id}`}>\n\t\t\t\t\t\t\t\t\t{data.title}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t{categories &&\n\t\t\t\t\tdata.map((newData, index) => {\n\t\t\t\t\t\tconst uri = 'category/' + encodeURIComponent(data[index][0])\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={index.toString()}>\n\t\t\t\t\t\t\t\t<Link styleName='sitemapItem' to={uri}>\n\t\t\t\t\t\t\t\t\t{data[index][0]}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t</ul>\n\t\t)\n\t}\n}\n"],"sourceRoot":""}